<header class="topbar" role="banner">
  <div class="brand">
    <div class="logo" aria-hidden="true">üìù</div>
    <h1>SimplyNotes</h1>
    <span style="opacity:0.9; margin-left:8px; font-size:13px;">‚Äî your notes, organized</span>
  </div>

  <div class="actions">
    <span id="currentUser">Signed in as <strong id="userEmail">{{ userEmail }}</strong></span>
    <a id="logout" (click)="logout()">Logout</a>
  </div>
</header>

<main class="container" role="main">
  
  <!-- Sidebar -->
  <aside class="sidebar" aria-label="Sidebar">
    <h3>Account</h3>
    <div class="role-badge" id="roleBadge">{{ department }}</div>

    <div style="margin-top:12px;">
      <strong>Folders / Categories</strong>
      <div class="filters">
        <button (click)="setCategory('all')">All Notes</button>
        <button (click)="setCategory('personal')">Personal</button>
        <button (click)="setCategory('work')">Work</button>
        <button (click)="setCategory('archive')">Archive</button>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <section class="main">
    <div class="toolbar">
      <div class="search-box">
        <input
          type="search"
          placeholder="Search notes..."
          [(ngModel)]="searchQuery"
          (input)="applyFilters()"
          aria-label="Search notes"
        />
      </div>
      <div>
        <button class="new-note" (click)="openEditor()">+ New Note</button>
      </div>
    </div>

    <div class="notes-grid">
      <div class="note-card" *ngFor="let note of filteredNotes; let i = index">
        <h4>{{ note.title }}</h4>

        <p>{{ note.content }}</p>

        <div class="note-actions">
          <button (click)="editNote(note)">Edit</button>
          <button (click)="deleteNote(i)">Delete</button>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Note Editor Modal -->
<app-note-editor
  *ngIf="isEditorOpen"
  [note]="selectedNote"
  (save)="saveNote($event)"
  (cancel)="closeEditor()"
></app-note-editor>
